<mat-card class="timetable">
  <div class="header">
    <h2>ðŸ“… Weekly Timetable</h2>

    <!-- Dropdown for classes -->
    <mat-form-field appearance="outline" class="class-select">
      <mat-label>Select Class</mat-label>
      <mat-select [(value)]="selectedClass" (selectionChange)="onClassChange()">
        <mat-option *ngFor="let cls of classes" [value]="cls._id">
          {{ cls.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="timetable-grid" *ngIf="selectedClass">
    <!-- Days headers -->
    <div class="day-header"></div>
    <div class="day-header" *ngFor="let day of days">{{ day }}</div>

    <!-- Timetable rows -->
    <div class="time-row" *ngFor="let time of times">
        <div class="time-label">{{ time }}</div>

        <div
            class="time-slot"
            *ngFor="let day of days"
            (click)="openSubjectSelector(day, time)"
        >
        <div
            class="class-block"
            *ngIf="getClasses(day, time).length > 0"
            [style.background]="getClasses(day, time)[0].color"
        >
            {{ getClasses(day, time)[0].subjectName }}
        </div>
        <div *ngIf="getClasses(day, time).length === 0" class="empty-slot">
            + Assign
        </div>
        </div>
    </div>
    </div>
</mat-card>
